# 連絡帳文例ナレッジベース

このフォルダには、AIが文例生成時に参考にする実際の連絡帳文例が格納されています。

## ファイル構造

- `contactExamples.json` - 連絡帳文例のデータベース

## 文例の追加方法

`contactExamples.json`に新しい文例を追加することで、AIがその文体や形式を学習して生成に反映します。

### JSON形式

```json
{
  "examples": [
    {
      "text": "今日は、午前中お散歩に出かけました。○○さんはちょうちょやお花を指さして『あ!あ!』と何度も教えてくれました!公園から帰る時は公園に向かって『バイバイ』をしていて、とってもかわいかったです。"
    }
  ]
}
```

### フィールドの説明

| フィールド | 型 | 必須 | 説明 |
|-----------|------|------|------|
| `text` | string | ○ | 実際の文例テキスト |

年齢や月、カテゴリなどの判断はすべてAIに任せています。

## 文例追加の例

### 散歩の文例を追加

```json
{
  "text": "今日は、午前中お散歩に出かけました。○○さんはちょうちょやお花を指さして『あ!あ!』と何度も教えてくれました!"
}
```

### 給食の文例を追加

```json
{
  "text": "今日の給食はカレーライスでした。○○さんは『おいしい!』と言いながらモリモリ食べていました。スプーンも上手に使えるようになってきましたよ。"
}
```

## 仕組み

1. ユーザーがLINEでメッセージを送信
2. システムが`contactExamples.json`の**全ての文例**をプロンプトに含めてAIに送信
3. AIが全文例を参考にして、リクエストに最適な新しい文例を生成

### シンプルな設計

- **複雑な検索ロジック不要**: 全ての文例をAIに提供し、AIが自動的に最適な参考例を選択
- **柔軟な対応**: AIが文脈から適切な文例を生成
- **追加が簡単**: `contactExamples.json`に文例を追加するだけ

## 注意事項

- 文例が多いほどAIの学習精度が向上しますが、最初は5〜10個程度から始めることをお勧めします
- 実際の保育現場で使用されている自然な文章を追加してください
- 個人情報（実名など）は「○○くん」「○○ちゃん」「○○さん」に置き換えてください
- JSONの構文エラーに注意してください（カンマ、括弧の閉じ忘れなど）
- 全文例がプロンプトに含まれるため、文例数が増えすぎるとトークン数が増加します（目安：50個程度まで）

## 今後の拡張案

- Assistants APIのFile Searchを使ったナレッジベース方式への移行
- 文例数が増えた場合のRAG（Retrieval-Augmented Generation）導入
