# 連絡帳文例ナレッジベース

このフォルダには、AIが文例生成時に参考にする実際の連絡帳文例が格納されています。

## ファイル構造

- `contactExamples.json` - 連絡帳文例のデータベース

## 文例の追加方法

`contactExamples.json`に新しい文例を追加することで、AIがその文体や形式を学習して生成に反映します。

### JSON形式

```json
{
  "examples": [
    {
      "age": 0,
      "month": 4,
      "text": "今日は、午前中お散歩に出かけました。○○さんはちょうちょやお花を指さして『あ!あ!』と何度も教えてくれました!公園から帰る時は公園に向かって『バイバイ』をしていて、とってもかわいかったです。",
      "tags": ["散歩", "成長", "日常"]
    }
  ]
}
```

### フィールドの説明

| フィールド | 型 | 必須 | 説明 |
|-----------|------|------|------|
| `age` | number | ○ | 対象年齢（0〜5歳）AIへの参考情報として使用 |
| `month` | number/null | - | 対象月（1〜12）。特定月でない場合は`null`。AIへの参考情報として使用 |
| `text` | string | ○ | 実際の文例テキスト |
| `tags` | array | ○ | 文例の特徴を示すタグ（下記参照）AIへの参考情報として使用 |

### よく使うタグ一覧

- `散歩` - お散歩・公園での活動
- `遊び` - 室内・屋外での遊び
- `食事` - 給食・おやつ
- `睡眠` - お昼寝
- `日常` - 日々の様子・活動
- `行事` - イベント・遠足・運動会
- `お知らせ` - 保護者への連絡事項
- `欠席` - 欠席連絡
- `お迎え` - お迎え時間変更
- `成長` - できるようになったこと
- `興味・関心` - 子どもの興味・関心

※複数のタグを設定することで、AIが文例の特徴をより正確に理解できます

## 文例追加の例

### 0歳児の4月の散歩の文例を追加

```json
{
  "age": 0,
  "month": 4,
  "text": "今日は、午前中お散歩に出かけました。○○さんはちょうちょやお花を指さして『あ!あ!』と何度も教えてくれました!",
  "tags": ["散歩", "成長", "日常"]
}
```

### 1歳児の月を問わない活動記録を追加

```json
{
  "age": 1,
  "month": null,
  "text": "今日の午前中は公園までお散歩に行きました。○○さんは最近虫に興味があるようで、ダンゴムシを触ろうとしたり、アリを見つけると嬉しそうに指さして教えてくれます。",
  "tags": ["散歩", "興味・関心", "成長", "日常"]
}
```

### 2歳児の給食の様子を追加

```json
{
  "age": 2,
  "month": null,
  "text": "今日の給食はカレーライスでした。○○さんは『おいしい!』と言いながらモリモリ食べていました。スプーンも上手に使えるようになってきましたよ。",
  "tags": ["食事", "成長", "日常"]
}
```

## 仕組み

1. ユーザーがLINEで「1歳児の散歩の文例を書いて」と送信
2. システムが`contactExamples.json`の**全ての文例**をプロンプトに含めてAIに送信
3. AIが全文例を参考にして、リクエストに最適な新しい文例を生成

### シンプルな学習方式

- **複雑な検索ロジック不要**: 全ての文例をAIに提供することで、AIが自動的に最適な参考例を選択
- **柔軟な対応**: 年齢・月・タグが完全一致しなくても、AIが文脈から適切な文例を生成
- **追加が簡単**: `contactExamples.json`に文例を追加するだけで、すぐにAIが学習して活用

### AIによる自動選択

AIは提供された全文例の中から、以下を自動判断します：
- リクエストに最も近い年齢の文例
- 似た活動内容やタグの文例
- 適切な文体や表現パターン

これにより、人間が複雑な条件設定をしなくても、AIが最適な文例を生成します。

## 注意事項

- 文例が多いほどAIの学習精度が向上しますが、最初は5〜10個程度から始めることをお勧めします
- 実際の保育現場で使用されている自然な文章を追加してください
- 個人情報（実名など）は「○○くん」「○○ちゃん」「○○さん」に置き換えてください
- JSONの構文エラーに注意してください（カンマ、括弧の閉じ忘れなど）
- 全文例がプロンプトに含まれるため、文例数が増えすぎるとトークン数が増加します（目安：50個程度まで）

## 今後の拡張案

- より細かいカテゴリ分類
- 季節ごとの文例
- 保護者への依頼事項のパターン
- 感謝や労いの表現パターン
